# Authentication Bypass Vulnerability

---

## **Description**  
An Authentication Bypass vulnerability enables unauthorized access to sensitive user information. The vulnerability is exploited through the `entityid` parameter in the `/api/Setting` endpoint, bypassing authentication checks. This flaw arises due to insufficient server-side access controls that fail to verify user authentication and authorization, thereby allowing attackers to retrieve or manipulate user data.

---

## **Steps to Reproduce**  

1. **Start the Application**  
   Launch the application and log in as any valid user.  

2. **Navigate to the Profile Section**  
   Access the user profile section to observe normal application behavior.  

3. **Send a GET Request with Valid Authentication**  
   Use the following example to fetch user data (e.g., User Kaushik's data):  
   ```http
   GET http://localhost:5000/api/Setting?entityname=User&entityid=4
   ```  

4. **Remove Authentication Cookies**  
   Clear all authentication cookies and session tokens.  

5. **Modify the `entityid` Parameter**  
   Bypass authentication by changing the `entityid` parameter to access data of other users or escalate privileges:  
   ```http
   GET http://localhost:5000/api/Setting?entityname=User&entityid=1
   ```  
   Examples:  
   - Change `entityid=1` to `entityid=2` or `entityid=3`.  
   - Continue modifying the parameter to retrieve additional user information.  

6. **Observe the Server Response**  
   Despite the lack of valid authentication, sensitive user details are disclosed.

---

## **Impact**  

- **Impact on Users:**  
  - Unauthorized disclosure of sensitive personal information.  

- **Impact on the Application:**  
  - Increased risk of data breaches, privacy violations, and regulatory non-compliance.  
  - Potential reputational damage and loss of user trust.  

---

## **Recommendations**  

- **Enforce Robust Authentication and Authorization:**  
  Implement server-side validation to verify the authentication state of the requesting user.  

- **Implement Role-Based Access Controls (RBAC):**  
  Restrict access to sensitive data based on the userâ€™s roles and permissions.  

- **Sanitize and Validate Input Parameters:**  
  Validate all input parameters, especially the `entityid` parameter, to ensure they are legitimate and authorized for the requesting user.  

- **Audit Logs and Monitoring:**  
  Implement logging and monitoring mechanisms to detect and prevent unauthorized access attempts.  

For more details about the patch, refer to:  
[OWASP: Broken Access Control](https://owasp.org/www-community/attacks/Broken_Access_Control)
